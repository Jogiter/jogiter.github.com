<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>【译】CentOS 8 服务器初始化设置 | Jogiter`s mind</title>
    <meta name="description" content="EveryThing about Me!">
    <link rel="stylesheet" href="/assets/style.d7f2fbcd.css">
    <link rel="modulepreload" href="/assets/plugin-vue_export-helper.71bb0c0b.js">
    <link rel="modulepreload" href="/assets/Home.4b66fb27.js">
    <link rel="modulepreload" href="/assets/AlgoliaSearchBox.4fd3e7bf.js">
    <link rel="modulepreload" href="/assets/tech_【译】CentOS 8 服务器初始化设置.md.ef4643d0.lean.js">
    <link rel="modulepreload" href="/assets/app.9366d4db.js">
    <meta name="twitter:title" content="【译】CentOS 8 服务器初始化设置 | Jogiter`s mind">
    <meta property="og:title" content="【译】CentOS 8 服务器初始化设置 | Jogiter`s mind">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-7b01b921><div class="sidebar-button" data-v-7b01b921><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Jogiter`s mind, back to home" data-v-7b01b921 data-v-19158655><!----> Jogiter`s mind</a><div class="flex-grow" data-v-7b01b921></div><div class="nav" data-v-7b01b921><nav class="nav-links" data-v-7b01b921 data-v-043d24b5><!--[--><div class="item" data-v-043d24b5><div class="nav-link" data-v-043d24b5 data-v-33cbaa06><a class="item" href="/about/" data-v-33cbaa06>个人简介 <!----></a></div></div><div class="item" data-v-043d24b5><div class="nav-link" data-v-043d24b5 data-v-33cbaa06><a class="item" href="/reading/" data-v-33cbaa06>Awesome 学习链接 <!----></a></div></div><div class="item" data-v-043d24b5><div class="nav-dropdown-link" data-v-043d24b5 data-v-15a3fdea><button class="button" data-v-15a3fdea><span class="button-text" data-v-15a3fdea>杂文</span><span class="right button-arrow" data-v-15a3fdea></span></button><ul class="dialog" data-v-15a3fdea><!--[--><li class="dialog-item" data-v-15a3fdea><div class="nav-dropdown-link-item" data-v-15a3fdea data-v-9e81def8><a class="item" href="/essay/books-to-read" data-v-9e81def8><span class="arrow" data-v-9e81def8></span><span class="text" data-v-9e81def8>books-to-read</span><span class="icon" data-v-9e81def8><!----></span></a></div></li><li class="dialog-item" data-v-15a3fdea><div class="nav-dropdown-link-item" data-v-15a3fdea data-v-9e81def8><a class="item" href="/essay/rework" data-v-9e81def8><span class="arrow" data-v-9e81def8></span><span class="text" data-v-9e81def8>rework</span><span class="icon" data-v-9e81def8><!----></span></a></div></li><li class="dialog-item" data-v-15a3fdea><div class="nav-dropdown-link-item" data-v-15a3fdea data-v-9e81def8><a class="item" href="/essay/the-21-laws-of-leadership" data-v-9e81def8><span class="arrow" data-v-9e81def8></span><span class="text" data-v-9e81def8>the-21-laws-of-leadership</span><span class="icon" data-v-9e81def8><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-043d24b5><div class="nav-dropdown-link" data-v-043d24b5 data-v-15a3fdea><button class="button" data-v-15a3fdea><span class="button-text" data-v-15a3fdea>情感</span><span class="right button-arrow" data-v-15a3fdea></span></button><ul class="dialog" data-v-15a3fdea><!--[--><li class="dialog-item" data-v-15a3fdea><div class="nav-dropdown-link-item" data-v-15a3fdea data-v-9e81def8><a class="item" href="/emotion/当人们让你失望时，有6种方法可以照顾好自己" data-v-9e81def8><span class="arrow" data-v-9e81def8></span><span class="text" data-v-9e81def8>当人们让你失望时，有6种方法可以照顾好自己</span><span class="icon" data-v-9e81def8><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-043d24b5><div class="nav-dropdown-link" data-v-043d24b5 data-v-15a3fdea><button class="button" data-v-15a3fdea><span class="button-text" data-v-15a3fdea>社交账号</span><span class="right button-arrow" data-v-15a3fdea></span></button><ul class="dialog" data-v-15a3fdea><!--[--><li class="dialog-item" data-v-15a3fdea><div class="nav-dropdown-link-item" data-v-15a3fdea data-v-9e81def8><a class="item isExternal" href="https://github.com/Jogiter" target="_blank" rel="noopener noreferrer" data-v-9e81def8><span class="arrow" data-v-9e81def8></span><span class="text" data-v-9e81def8>Github</span><span class="icon" data-v-9e81def8><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-9e81def8><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-15a3fdea><div class="nav-dropdown-link-item" data-v-15a3fdea data-v-9e81def8><a class="item isExternal" href="mailto:jogiter.g@gmail.com" target="_blank" rel="noopener noreferrer" data-v-9e81def8><span class="arrow" data-v-9e81def8></span><span class="text" data-v-9e81def8>邮箱</span><span class="icon" data-v-9e81def8><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-9e81def8><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><!--]--></ul></div></div><!--]--><!----><div class="item" data-v-043d24b5><div class="nav-link" data-v-043d24b5 data-v-33cbaa06><a class="item isExternal" href="https://github.com/Jogiter/jogiter.github.com" target="_blank" rel="noopener noreferrer" data-v-33cbaa06>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-33cbaa06><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-219eda98><nav class="nav-links nav" data-v-219eda98 data-v-043d24b5><!--[--><div class="item" data-v-043d24b5><div class="nav-link" data-v-043d24b5 data-v-33cbaa06><a class="item" href="/about/" data-v-33cbaa06>个人简介 <!----></a></div></div><div class="item" data-v-043d24b5><div class="nav-link" data-v-043d24b5 data-v-33cbaa06><a class="item" href="/reading/" data-v-33cbaa06>Awesome 学习链接 <!----></a></div></div><div class="item" data-v-043d24b5><div class="nav-dropdown-link" data-v-043d24b5 data-v-15a3fdea><button class="button" data-v-15a3fdea><span class="button-text" data-v-15a3fdea>杂文</span><span class="right button-arrow" data-v-15a3fdea></span></button><ul class="dialog" data-v-15a3fdea><!--[--><li class="dialog-item" data-v-15a3fdea><div class="nav-dropdown-link-item" data-v-15a3fdea data-v-9e81def8><a class="item" href="/essay/books-to-read" data-v-9e81def8><span class="arrow" data-v-9e81def8></span><span class="text" data-v-9e81def8>books-to-read</span><span class="icon" data-v-9e81def8><!----></span></a></div></li><li class="dialog-item" data-v-15a3fdea><div class="nav-dropdown-link-item" data-v-15a3fdea data-v-9e81def8><a class="item" href="/essay/rework" data-v-9e81def8><span class="arrow" data-v-9e81def8></span><span class="text" data-v-9e81def8>rework</span><span class="icon" data-v-9e81def8><!----></span></a></div></li><li class="dialog-item" data-v-15a3fdea><div class="nav-dropdown-link-item" data-v-15a3fdea data-v-9e81def8><a class="item" href="/essay/the-21-laws-of-leadership" data-v-9e81def8><span class="arrow" data-v-9e81def8></span><span class="text" data-v-9e81def8>the-21-laws-of-leadership</span><span class="icon" data-v-9e81def8><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-043d24b5><div class="nav-dropdown-link" data-v-043d24b5 data-v-15a3fdea><button class="button" data-v-15a3fdea><span class="button-text" data-v-15a3fdea>情感</span><span class="right button-arrow" data-v-15a3fdea></span></button><ul class="dialog" data-v-15a3fdea><!--[--><li class="dialog-item" data-v-15a3fdea><div class="nav-dropdown-link-item" data-v-15a3fdea data-v-9e81def8><a class="item" href="/emotion/当人们让你失望时，有6种方法可以照顾好自己" data-v-9e81def8><span class="arrow" data-v-9e81def8></span><span class="text" data-v-9e81def8>当人们让你失望时，有6种方法可以照顾好自己</span><span class="icon" data-v-9e81def8><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-043d24b5><div class="nav-dropdown-link" data-v-043d24b5 data-v-15a3fdea><button class="button" data-v-15a3fdea><span class="button-text" data-v-15a3fdea>社交账号</span><span class="right button-arrow" data-v-15a3fdea></span></button><ul class="dialog" data-v-15a3fdea><!--[--><li class="dialog-item" data-v-15a3fdea><div class="nav-dropdown-link-item" data-v-15a3fdea data-v-9e81def8><a class="item isExternal" href="https://github.com/Jogiter" target="_blank" rel="noopener noreferrer" data-v-9e81def8><span class="arrow" data-v-9e81def8></span><span class="text" data-v-9e81def8>Github</span><span class="icon" data-v-9e81def8><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-9e81def8><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><li class="dialog-item" data-v-15a3fdea><div class="nav-dropdown-link-item" data-v-15a3fdea data-v-9e81def8><a class="item isExternal" href="mailto:jogiter.g@gmail.com" target="_blank" rel="noopener noreferrer" data-v-9e81def8><span class="arrow" data-v-9e81def8></span><span class="text" data-v-9e81def8>邮箱</span><span class="icon" data-v-9e81def8><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-9e81def8><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><!--]--></ul></div></div><!--]--><!----><div class="item" data-v-043d24b5><div class="nav-link" data-v-043d24b5 data-v-33cbaa06><a class="item isExternal" href="https://github.com/Jogiter/jogiter.github.com" target="_blank" rel="noopener noreferrer" data-v-33cbaa06>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-33cbaa06><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-219eda98><!--[--><li class="sidebar-link"><p class="sidebar-link-item">文章</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/AIGC视频字幕">AIGC视频字幕</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/DDD">DDD</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/Nodejs-权威指南">Nodejs-权威指南</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/Typescript-guides">Typescript-guides</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/eventloop-task-and-microtasks">eventloop-task-and-microtasks</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/fetch-API">fetch-API</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/ffmpeg">ffmpeg</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/font-face">font-face</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/frontend-optimization">frontend-optimization</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/git-tutorial">git-tutorial</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/higher-order-function">higher-order-function</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/i18n">i18n</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/jsonp-vs-cors">jsonp-vs-cors</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/lerna-with-tsdx">lerna-with-tsdx</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/macbook-开发环境配置">macbook-开发环境配置</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/markdown 解析及语法高亮调研">markdown 解析及语法高亮调研</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/mediaSourceExtension">mediaSourceExtension</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/nest.js and typeOrm">nest.js and typeOrm</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/pwa">pwa</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/string-compare">string-compare</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/taro 小程序开发入门指北">taro 小程序开发入门指北</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/tdd">tdd</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/using-virtualbox-test-old-ie">using-virtualbox-test-old-ie</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/vue2-composition-api-faq">vue2-composition-api-faq</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/webpack-config">webpack-config</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/webrtc">webrtc</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/wechat-save-and-share-image">wechat-save-and-share-image</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/【译】CentOS 8 服务器初始化设置">【译】CentOS 8 服务器初始化设置</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/【译】什么是 Web3">【译】什么是 Web3</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/【译】在-centeros8-上部署Node-js应用程序">【译】在-centeros8-上部署Node-js应用程序</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/【转】Javascript中的8种常见数据结构">【转】Javascript中的8种常见数据结构</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/使用-uni-app-开发小程序">使用-uni-app-开发小程序</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/博客添加docSearch">博客添加docSearch</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/打造舒适高效的前端开发环境">打造舒适高效的前端开发环境</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/搭建私有-npm">搭建私有-npm</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tech/移动端适配">移动端适配</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-1881bce0><div class="container" data-v-1881bce0><!--[--><!--]--><div style="position:relative;" class="content" data-v-1881bce0><div><h1 id="frontmatter-title" tabindex="-1">【译】CentOS 8 服务器初始化设置 <a class="header-anchor" href="#frontmatter-title" aria-hidden="true">#</a></h1><p><div class="table-of-contents"><ul><li><a href="#步骤-1-以-root-身份登录">步骤 1-以 root 身份登录</a></li><li><a href="#步骤-2-创建新用户">步骤 2-创建新用户</a></li><li><a href="#步骤-3-授予管理权限">步骤 3-授予管理权限</a></li><li><a href="#步骤-4-—设置基本防火墙">步骤 4 —设置基本防火墙</a></li><li><a href="#步骤-5-—为普通用户启用外部访问">步骤 5 —为普通用户启用外部访问</a></li><li><a href="#结论">结论</a></li></ul></div></p><p>首次创建新的 CentOS 8 服务器时，您应在基本设置的早期阶段执行一些配置步骤。这将提高服务器的安全性和可用性，并为后续操作奠定坚实的基础。</p><h2 id="步骤-1-以-root-身份登录" tabindex="-1">步骤 1-以 root 身份登录 <a class="header-anchor" href="#步骤-1-以-root-身份登录" aria-hidden="true">#</a></h2><p>要登录服务器，您需要知道服务器的公共 IP 地址。您还需要密码。</p><p>如果尚未连接到服务器，请立即使用以下命令以 root 用户身份登录（用服务器的公共 IP 地址替换命令中的 <code>your_server_ip</code>）：</p><blockquote><p>$ ssh root@<code>your_server_ip</code></p></blockquote><p><strong>关于 root</strong></p><p>在 <code>root</code> 用户在 <code>Linux</code> 环境中管理用户，具有非常广阔的特权。由于 <code>root</code> 帐户具有更高的特权，因此不建议您定期使用它。这是因为 <code>root</code> 帐户固有的部分能力是即使在偶然的情况下也可以进行具有破坏性的更改的功能。</p><p>因此，下一步是建立一个替代用户帐户，以减少对日常工作的影响范围。必要时，该帐户仍将能够获得更多的特权。</p><h2 id="步骤-2-创建新用户" tabindex="-1">步骤 2-创建新用户 <a class="header-anchor" href="#步骤-2-创建新用户" aria-hidden="true">#</a></h2><p>以 <code>root</code> 用户身份登录后，您可以创建一个新的用户帐户，从现在开始我们将使用该帐户登录。</p><p>本示例创建一个名为 <code>sammy</code> 的新用户，但您应将其替换为您喜欢的任何用户名：</p><blockquote><p>$ adduser <code>sammy</code></p></blockquote><p>接下来，为 <code>sammy</code> 用户设置一个强密码：</p><blockquote><p>$ passwd <code>sammy</code></p></blockquote><p>系统将提示您输入两次密码。这样做之后，您的用户就可以使用了，但是首先我们将赋予该用户其他使用 <code>sudo</code> 命令的特权。这将使我们能够在必要时以 <code>root</code> 用户身份运行命令。</p><h2 id="步骤-3-授予管理权限" tabindex="-1">步骤 3-授予管理权限 <a class="header-anchor" href="#步骤-3-授予管理权限" aria-hidden="true">#</a></h2><p>现在，我们有了一个具有常规帐户特权的新用户帐户。但是，有时我们可能需要执行管理任务。</p><p>为了避免注销普通用户并以 <code>root</code> 帐户重新登录，我们可以为普通帐户设置所谓的“超级用户”或 <code>root</code> 特权。这将使我们的普通用户可以通过 <code>sudo</code> 在每个命令前加上单词来以管理特权运行命令。</p><p>要将这些特权添加到新用户，我们需要将新用户添加到 <code>wheel</code> 组。默认情况下，在 CentOS 8 上，允许属于 <code>wheel</code> 组的用户使用该 sudo 命令。</p><p>以 <code>root</code> 身份运行此命令，将您的新用户添加到 <code>wheel</code> 组（用新的用户名替换突出显示的单词）：</p><blockquote><p>$ usermod -aG wheel <code>sammy</code></p></blockquote><p>现在，以普通用户身份登录后，您可以 <code>sudo</code> 在命令之前键入以超级用户权限执行操作。</p><h2 id="步骤-4-—设置基本防火墙" tabindex="-1">步骤 4 —设置基本防火墙 <a class="header-anchor" href="#步骤-4-—设置基本防火墙" aria-hidden="true">#</a></h2><p>防火墙为您的服务器提供了基本的安全性。这些应用程序负责拒绝到服务器上每个端口的流量，但您明确批准的端口 <code>/</code> 服务除外。CentOS 有一项称为 <code>firewalld</code> 执行此功能的服务。名为的工具 <code>firewall-cmd</code> 用于配置 <code>firewalld</code> 防火墙策略。</p><p>首次安装 firewalld：</p><blockquote><p>$ dnf install firewalld -y</p></blockquote><p>默认 <code>firewalld</code> 配置允许 <code>ssh</code> 连接，因此我们可以立即打开防火墙：</p><blockquote><p>$ systemctl start firewalld</p></blockquote><p>检查服务的状态以确保其已启动：</p><blockquote><p>$ systemctl status firewalld</p></blockquote><div class="language-"><pre><code>Output
● firewalld.service - firewalld - dynamic firewall daemon
   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled; vendor preset: enabled)
   Active: active (running) since Thu 2020-02-06 16:39:40 UTC; 3s ago
     Docs: man:firewalld(1)
 Main PID: 13180 (firewalld)
    Tasks: 2 (limit: 5059)
   Memory: 22.4M
   CGroup: /system.slice/firewalld.service
           └─13180 /usr/libexec/platform-python -s /usr/sbin/firewalld --nofork --nopid
</code></pre></div><p>请注意，它都是 <code>active</code> 和 <code>enabled</code>，这意味着如果重新引导服务器，它将默认启动。</p><p>现在该服务已启动并正在运行，我们可以使用该 <code>firewall-cmd</code> 实用工具来获取和设置防火墙的策略信息。</p><p>首先，让我们列出已经允许的服务：</p><blockquote><p>$ firewall-cmd --permanent --list-all</p></blockquote><div class="language-"><pre><code>Output
public (active)
  target: default
  icmp-block-inversion: no
  interfaces: eth0 eth1
  sources:
  services: cockpit dhcpv6-client ssh
  ports:
  protocols:
  masquerade: no
  forward-ports:
  source-ports:
  icmp-blocks:
  rich rules:
</code></pre></div><p>要查看可以按名称启用的其他服务，请键入：</p><blockquote><p>$ firewall-cmd --get-services</p></blockquote><p>要添加应允许的服务，请使用 <code>--add-service</code> 标志：</p><blockquote><p>$ firewall-cmd --permanent --add-service=http</p></blockquote><p>这将添加 <code>http</code> 服务，并允许传入 <code>TCP</code> 流量到 <code>port 80</code>。重新加载防火墙后，配置将更新：</p><blockquote><p>$ firewall-cmd --reload</p></blockquote><p>请记住，您将必须为以后可能配置的任何其他服务显式打开防火墙（带有服务或端口）。</p><h2 id="步骤-5-—为普通用户启用外部访问" tabindex="-1">步骤 5 —为普通用户启用外部访问 <a class="header-anchor" href="#步骤-5-—为普通用户启用外部访问" aria-hidden="true">#</a></h2><p>现在我们有了一个常规的非 <code>root</code> 用户来日常使用，我们需要确保可以使用它来 SSH 进入我们的服务器。</p><blockquote><p>注意：在确认您可以登录并 sudo 与新用户一起使用之前，建议您保持 root 身份登录。这样，如果遇到问题，您可以进行故障排除并以 root 身份进行任何必要的更改。如果您正在使用 DigitalOcean Droplet，并且根 SSH 连接遇到问题，则可以使用 DigitalOcean Console 登录到 Droplet。</p></blockquote><p>为新用户配置 <code>SSH</code> 访问的过程取决于服务器的根帐户是使用密码还是 <code>SSH</code> 密钥进行身份验证。</p><p><strong>如果 <code>root</code> 帐户使用密码身份验证</strong></p><p>如果您使用 <code>password</code> 登录到 <code>root</code> 帐户，那么将为 SSH 启用密码身份验证。您可以通过打开新的终端会话并使用带有新用户名的 SSH SSH 到您的新用户帐户：</p><blockquote><p>$ ssh <code>sammy</code>@<code>your_server_ip</code></p></blockquote><p>输入普通用户的密码后，您将登录。请记住，如果您需要运行具有管理特权的命令，请 sudo 像下面这样键入：</p><blockquote><p>$ sudo command_to_run</p></blockquote><p>sudo 首次使用每个会话时（此后定期），系统将提示您输入常规用户密码。</p><p>为了增强服务器的安全性，<strong>强烈建议您设置 SSH 密钥，而不要使用密码身份验证</strong>。遵循我们[在 CentOS 8 上设置 SSH 密钥]的指南，以了解如何配置基于密钥的身份验证。</p><p><strong>如果根帐户使用 SSH 密钥身份验证</strong></p><p>如果您使用 <code>SSH</code> 密钥登录到根帐户，则将禁用 <code>SSH</code> 的密码身份验证。您需要将公共密钥的副本添加到新用户的文件中才能成功登录。<code>~/.ssh/authorized_keys</code></p><p>由于您的公钥已经在服务器上根帐户的 <code>~/.ssh/authorized_keys</code> 文件中，因此我们可以将该文件和目录结构复制到我们的新用户帐户中。</p><p>复制具有正确所有权和权限的文件的最简单方法是使用 <code>rsync</code> 命令。这将复制 <code>root</code> 用户的 <code>.ssh</code> 目录，保留权限，并修改文件所有者，所有操作都在一个命令中。确保更改以下命令中突出显示的部分，以匹配普通用户的名称：</p><blockquote><p>注意：该 rsync 命令将以尾斜杠结尾的源和目标与不以尾斜杠结尾的源和目标区别对待。在 rsync 下面使用时，请确保源目录（<code>~/.ssh</code>）不包含斜杠（请检查以确保您未使用~/.ssh/）。</p></blockquote><p>如果你不小心一个斜线添加到命令，<code>rsync</code>将复制的内容中的根帐户的 <code>~/.ssh</code> 目录到 <code>sudo</code> 用户的主目录，而不是复制整个 <code>~/.ssh</code> 目录结构。这些文件将位于错误的位置，并且 <code>SSH</code> 将无法找到和使用它们。</p><blockquote><p>$ rsync --archive --chown=sammy:sammy ~/.ssh /home/sammy</p></blockquote><p>现在，回到本地计算机上的新终端，与您的非 root 用户打开新的 SSH 会话：</p><blockquote><p>$ ssh <code>sammy</code>@<code>your_server_ip</code></p></blockquote><p>您应该不使用密码登录到新用户帐户。请记住，如果您需要运行具有管理特权的命令，请在命令 <code>sudo</code> 之前输入，如下所示：</p><blockquote><p>$ sudo command_to_run</p></blockquote><p><code>sudo</code> 首次使用每个会话时（此后定期），系统将提示您输入常规用户密码。</p><h2 id="结论" tabindex="-1">结论 <a class="header-anchor" href="#结论" aria-hidden="true">#</a></h2><p>至此，您已经为服务器奠定了坚实的基础。您现在可以在服务器上安装所需的任何软件。</p><blockquote><p>原文链接: <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-centos-8" target="_blank" rel="noopener noreferrer">https://www.digitalocean.com/community/tutorials/initial-server-setup-with-centos-8</a></p></blockquote></div></div><footer class="page-footer" data-v-1881bce0 data-v-001a5369><div class="edit" data-v-001a5369><div class="edit-link" data-v-001a5369 data-v-6dc6f5be><a class="link" href="https://github.com/Jogiter/jogiter.github.com/edit/vitepress/docs/tech/【译】CentOS 8 服务器初始化设置.md" target="_blank" rel="noopener noreferrer" data-v-6dc6f5be>在GitHub上编辑此页面 <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-6dc6f5be><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-001a5369><p class="last-updated" data-v-001a5369 data-v-6a1b94eb><span class="prefix" data-v-6a1b94eb>最后更新:</span><span class="datetime" data-v-6a1b94eb></span></p></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"about_index.md\":\"d55595f5\",\"emotion_当人们让你失望时，有6种方法可以照顾好自己.md\":\"7dfa4c4f\",\"essay_books-to-read.md\":\"b6f41046\",\"essay_rework.md\":\"7eb94c11\",\"essay_the-21-laws-of-leadership.md\":\"967cb692\",\"index.md\":\"7f17cfc4\",\"reading_index.md\":\"a0513ac5\",\"tech_aigc视频字幕.md\":\"871ee7c6\",\"tech_ddd.md\":\"bb89399c\",\"tech_nodejs-权威指南.md\":\"7660e35a\",\"tech_typescript-guides.md\":\"1ea40208\",\"tech_eventloop-task-and-microtasks.md\":\"3c630f35\",\"tech_fetch-api.md\":\"7095eb06\",\"tech_ffmpeg.md\":\"6069ea4f\",\"tech_font-face.md\":\"1a828ba5\",\"tech_frontend-optimization.md\":\"96710ebb\",\"tech_git-tutorial.md\":\"3bd599b0\",\"tech_higher-order-function.md\":\"24ed6853\",\"tech_i18n.md\":\"a6186cce\",\"tech_index.md\":\"5cccff1b\",\"tech_jsonp-vs-cors.md\":\"d48e5903\",\"tech_lerna-with-tsdx.md\":\"8042ae6c\",\"tech_macbook-开发环境配置.md\":\"98c14f2b\",\"tech_markdown 解析及语法高亮调研.md\":\"ec8b4dc8\",\"tech_mediasourceextension.md\":\"6e13e86e\",\"tech_nest.js and typeorm.md\":\"75fed2f2\",\"tech_pwa.md\":\"def529c2\",\"tech_string-compare.md\":\"e1abbf7e\",\"tech_taro 小程序开发入门指北.md\":\"2ca8479c\",\"tech_tdd.md\":\"4a5984e7\",\"tech_using-virtualbox-test-old-ie.md\":\"0eab56d5\",\"tech_vue2-composition-api-faq.md\":\"ff0d1c27\",\"tech_webpack-config.md\":\"65485614\",\"tech_webrtc.md\":\"e50576f2\",\"tech_wechat-save-and-share-image.md\":\"3e87f2ee\",\"tech_【译】centos 8 服务器初始化设置.md\":\"ef4643d0\",\"tech_【译】什么是 web3.md\":\"830bb3cb\",\"tech_【译】在-centeros8-上部署node-js应用程序.md\":\"f64f4864\",\"tech_【转】javascript中的8种常见数据结构.md\":\"5d216184\",\"tech_使用-uni-app-开发小程序.md\":\"e7f78bbd\",\"tech_博客添加docsearch.md\":\"ca15e5df\",\"tech_打造舒适高效的前端开发环境.md\":\"cbd52576\",\"tech_搭建私有-npm.md\":\"71461f0c\",\"tech_移动端适配.md\":\"48d0a999\"}")</script>
    <script type="module" async src="/assets/app.9366d4db.js"></script>
    
  </body>
</html>